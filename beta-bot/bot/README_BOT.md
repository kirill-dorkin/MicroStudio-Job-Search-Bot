MicroStudio Job Search Bot (RU)

Этот Telegram‑бот разработан студией MicroStudio. Он использует локальную библиотеку `jobspy` для поиска вакансий на внешних сайтах (Indeed, LinkedIn, Google Jobs, ZipRecruiter, Glassdoor, Bayt, Naukri, BDJobs). Отклики совершаются на сайте‑источнике.

Коротко:
- Разработчик бота: MicroStudio
- Технологическая основа: библиотека JobSpy (open‑source)
- Пример бота: @microstudio_job_search_bot

Возможности сейчас
- Поиск вакансий по запросу, локации, типу занятости, удалённости, периоду публикации
- Выбор источников поиска (переключатели)
- Пагинация результатов, «Открыть на сайте», «В избранное», «Похожие», «Поделиться»
- Уточнение фильтров и сортировка в выдаче (период, удалёнка, тип; сортировка по зарплате/дате)
- Сохранённые запросы и избранное (локальное JSON-хранилище)
- Подписка и автодайджест (частоты: daily/3d/weekly; проверка каждые 30 минут)
- Экспорт результатов/избранного в CSV
- RU/EN интерфейс (основной акцент на RU)

Ограничения
- Вакансии — только из внешних источников. Отклик и полные описания — на стороне источника.
- Публикация вакансий работодателями и управление интервью — не реализованы.

Быстрый старт
Вариант 1 (рекомендуется, один шаг):

  make bot

Скрипт сам:
- создаст venv (python3.11/3.10, если доступен)
- поставит зависимости (`bot/requirements.txt` + локальные либы)
- подхватит переменные из `.env` и `bot/.env`
- запустит бота `python -m bot.main`

Требуется заранее создать `bot/.env` или `.env` c переменной:

  TELEGRAM_BOT_TOKEN=123456:ABC...

Вариант 2 (вручную):

1) Установите зависимости бота:

   pip install -r bot/requirements.txt

2) Экспортируйте токен:

   export TELEGRAM_BOT_TOKEN="123456:ABC..."

3) Запуск:

   python -m bot.main

4) Команды в боте:
- /start — онбординг, выбор языка/роли
- /search — пошаговый поиск
- /q — быстрый поиск одной строкой (пример ниже)
- /sources — выбор источников
- /region — регион для Indeed/Glassdoor (например: `usa`)
- /region_list — список стран для /region
- /currency — базовая валюта (для сводки/фильтров зарплат)
- /suggest — подсказки по ключевым словам из последней выдачи
- /saved — сохранённые запросы
- /favorites — избранное
- /favorites_clear — очистить избранное
- /subs — подписки по сохранённым запросам
- /export — экспорт CSV (последняя выдача или избранное)
- /settings — текущие настройки (язык, роль, источники, регион)
- /help — справка
- /about — что умеет бот (обзор возможностей)
- /tour — тур по функциям (пошагово)
- /summary — быстрая рыночная сводка по последней выдаче
- /data_export — экспорт ваших данных (JSON)
- /data_delete — удалить ваши данные (подтверждение)
- /previews — включить/выключить веб-превью ссылок в карточках

Пример быстрого поиска:

  /q python loc:Berlin remote:yes hours:72 type:fulltime

Хранилище
- Локальное: файл `bot/data/db.json` создаётся автоматически.
- Содержит настройки пользователя, избранное и сохранённые запросы.

Кастомизация
- Тексты интерфейса: `bot/texts.py`
- Логика поиска: `bot/jobs.py`
- Простое хранилище: `bot/storage.py`
- Основной бот: `bot/main.py`

Примечания
- Брендинг: тексты и подписи в интерфейсе обновлены под MicroStudio. В карточках и справке присутствует явная пометка о разработчике.
- Кредиты: используем библиотеку JobSpy и благодарим авторов.
- Для Indeed/Glassdoor нужно корректно задавать `country_indeed` (по умолчанию USA). Изменить: команда `/region`.
- Разные источники имеют разные ограничения по фильтрам. Бот аккуратно упрощает запрос (и предупреждает), чтобы вернуть максимально близкие результаты. Например, Indeed не комбинирует `hours_old` одновременно с `remote`/`job_type`.
 - В выдаче можно: «Сузить фильтры», сортировать по зарплате/дате, выбрать валюту/минимальную зарплату, переключать источники, менять дистанцию.
